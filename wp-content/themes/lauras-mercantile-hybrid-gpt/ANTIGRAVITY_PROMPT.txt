You are setting up a production-safe hybrid WordPress + React + WooCommerce theme.

Goals:
- React handles all non-checkout pages (marketing / education / browsing).
- WooCommerce checkout/account remain PHP-rendered (cart/checkout/my-account and endpoints).
- No external CDNs. All dependencies bundled via Vite build output inside the theme.
- Theme survives WordPress and plugin updates.

Tasks:
1) Create a Git repo `lauras-mercantile-hybrid`.
2) Theme folder `lauras-mercantile-hybrid` with:
   - style.css, functions.php, header.php, footer.php, index.php, front-page.php, page-react.php
   - assets/base.css
   - assets/dist/ (Vite build output + manifest.json)
   - assets/images/ (brand imagery)
   - react-src/ (Vite project)

3) Vite config:
   - build outDir = ../assets/dist
   - manifest = true
   - base = '' (relative assets)
   - entry = react-src/main.jsx

4) WordPress enqueue:
   - Always enqueue assets/base.css
   - Only enqueue React JS/CSS when mounting React (front-page, React template, shop/category/product pages)
   - Global kill switch: define('LM_REACT_DISABLED', true);

5) React app:
   - React Router routes for menu pages: /shop, /our-approach, /lab-results, /education, /about-laura, plus any legacy pages.
   - Hard redirect routes: /cart, /checkout, /my-account (and subpaths)
   - Header shows logged-in state from window.__LM__ injected by PHP
   - Cart count from Woo Store API (/wp-json/wc/store/v1/cart) with graceful fallback
   - Content pages fetch from WP REST: /wp-json/wp/v2/pages?slug=...

6) Style:
   - Editorial, parchment background, serif headlines, earth tones
   - Soft card UI matching provided screenshots

7) CLI setup steps (macOS/Linux):
   - install Node LTS (nvm preferred)
   - npm install + npm run build in react-src
   - zip the theme folder and upload OR deploy via SSH/rsync
   - no credentials committed; use environment variables / GitHub secrets for CI deploy

Validation checklist:
- Activating theme does not break checkout
- /cart /checkout /my-account render PHP Woo pages
- Home route mounts React and shows header + hero
- REST endpoints accessible: /wp-json/wp/v2/pages and /wp-json/wc/store/v1/*
